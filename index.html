<!DOCTYPE>
<html>
  <body>
    <h1>DES Y3 Mass Map</h1>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js" charset="utf-8"></script>

    <!-- Aladin Lite container at requested dimensions -->
    <div id="aladin-lite-div" style="width:700px;height:400px;"></div>
    
    <!-- Aladin Lite JS code -->
    <script type="text/javascript" src="https://aladin.cds.unistra.fr/AladinLite/api/v3/latest/aladin.js" charset="utf-8"></script>
    
    <!-- Creation of Aladin Lite instance with initial parameters -->
    <script type="text/javascript">
        A.init.then(() => {
            const yourHiPSUrl = 'https://kylemiller1.github.io/Mass-Maps/DES_tom4_hips/';

            // Create Aladin instance
            let aladin = A.aladin('#aladin-lite-div', {
                survey: yourHiPSUrl,  // This loads YOUR HiPS folder
                target: '13h00m00s -55d00m00s',  // Center on DES footprint
                fov: 40,  // Field of view in degrees
                showReticle: true,
                showGotoControl: true,
                showLayersControl: true,
                showZoomControl: true,
                showFullscreenControl: true
            });
          
            aladin.setProjection("MOL");

            // aladin.displayFITS("https://kylemiller1.github.io/Mass-Maps/Patches/patch_64_wcs.fits", {cutouts: true});
          
            aladin.setOverlayImageLayer(
              A.image(
                  "https://kylemiller1.github.io/Mass-Maps/Patches/patch_64_tom4_lowmax2.jpg",
                  {
                      name: "patch_64",
                      imgFormat: 'jpeg',
                      wcs: {
                          WCSAXES: 2, // Number of coordinate axes                      
                          CRPIX1: 128.0, // Pixel coordinate of reference point            
                          CRPIX2: 128.0, // Pixel coordinate of reference point            
                          CDELT1: 0.027892515868654, // [deg] Coordinate increment at reference point  
                          CDELT2: 0.016666666666667, // [deg] Coordinate increment at reference point  
                          CUNIT1: 'deg', // Units of coordinate increment and value        
                          CUNIT2: 'deg', // Units of coordinate increment and value        
                          CTYPE1: 'RA---TAN', // Right ascension, gnomonic projection           
                          CTYPE2: 'DEC--TAN', // Declination, gnomonic projection               
                          CRVAL1: 343.51376271573, // [deg] Coordinate value at reference point      
                          CRVAL2: -53.306666666667, // [deg] Coordinate value at reference point      
                          LONPOLE: 180.0, // [deg] Native longitude of celestial pole       
                          LATPOLE: -53.306666666667, // [deg] Native latitude of celestial pole        
                          MJDREF: 0.0, // [d] MJD of fiducial time                       
                          RADESYS: 'ICRS', // Equatorial coordinate system 
                          NAXIS1: 256,
                          NAXIS2: 256,
                          EQUINOX: 2000.0
                      },
                      successCallback: (ra, dec, fov, image) => {
                          aladin.gotoRaDec(ra, dec);
                          aladin.setFoV(fov);
                      }
                  }
              )
            );
        });
    </script>
      
  </body>
</html>

