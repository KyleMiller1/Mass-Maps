<!DOCTYPE>
<html>
  <body>
    <h1>DES Y3 Mass Map</h1>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js" charset="utf-8"></script>

    <!-- Aladin Lite container at requested dimensions -->
    <div id="aladin-lite-div" style="width:700px;height:400px;"></div>
    
    <!-- Aladin Lite JS code -->
    <script type="text/javascript" src="https://aladin.cds.unistra.fr/AladinLite/api/v3/latest/aladin.js" charset="utf-8"></script>
    
    <!-- Creation of Aladin Lite instance with initial parameters -->
    <script type="text/javascript">
        var aladin;
        A.init.then(() => {
        aladin = A.aladin('#aladin-lite-div', {cooFrame: 'icrs'});

        aladin.displayFITS(
                'https://github.com/KyleMiller1/Mass-Maps/raw/refs/heads/main/KS_full.fits',
                { // Optional params for the image
                    name: 'DES Mass Map', // Name it in the layer stack
                    opacity: 1
                },
                (ra, dec, fov, image) => {
                    // THIS IS THE KEY: Set the colormap and a strong stretch
                    image.setColormap('plasma', {
                        stretch: 'asinh', // Use 'asinh' for mass maps!
                        minMax: [-0.015, 0.03] // YOU MUST MANUALLY ADJUST THESE
                    });

                    // Center the view on the map
                    aladin.gotoRaDec(ra, dec);
                    aladin.setFoV(fov * 1.2);

                }
        
            );
        
        });
    </script>
      
  </body>
</html>
